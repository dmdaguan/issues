<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>hasura/issues by hasura</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">hasura/issues</h1>
      <h2 class="project-tagline">No project management. Just issues.</h2>
      <a href="https://github.com/hasura/issues" class="btn">View on GitHub</a>
      <a href="https://github.com/hasura/issues/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/hasura/issues/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h3>
<a id="what-is-hasuraissues" class="anchor" href="#what-is-hasuraissues" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>What is hasura/issues?</h3>

<p><em>hasura/issues</em> is a simple view that pulls data from github and gitlab repos that helps the entire team understand porgress across the entire project. It also has a few utilities to automatically send out emails, show blocking tasks and extract time spent on a task.</p>

<h3>
<a id="features" class="anchor" href="#features" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Features</h3>

<ol>
<li>Project progress</li>
<li>List issues for the same milestone across github, gitlab repos</li>
<li>Parse issue description to show blocking tasks</li>
<li>Automatic progress progress emails for an active milestone</li>
<li>Automatic daily report of issues opened and closed in case of no active milestone</li>
</ol>

<hr>

<h3>
<a id="annotating-issues-with-metadata" class="anchor" href="#annotating-issues-with-metadata" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Annotating issues with metadata</h3>

<p>Metadata about issues (blocking task dependency) and time spent on the issue is extracted from the issue description.</p>

<h5>
<a id="blocking-task" class="anchor" href="#blocking-task" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Blocking task</h5>

<p>Say, there is an issue on a <code>gitlab</code> project <code>myorg/myrepo</code> called <code>#8 A big block</code>.</p>

<p>Say there is an issue in the same project that depends on the issue above <code>#23 Some stuff has to be done before this can be done</code>. In that case, add the following in the issue description (<strong>not issue comments</strong>) saying: <code>needs #8</code>.</p>

<p>Say there is an issue in some other project that depends on <code>#8 A big block</code>, add this to the issue description: <code>needs gitlab:myorg/myrepo#8</code>.</p>

<h5>
<a id="time-spent" class="anchor" href="#time-spent" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Time spent</h5>

<p>To annotate how much time was spend on an issue, add the following to the issue description: <code>timespent: 7h</code> or <code>timespent: 7.5h</code>.</p>

<h3>
<a id="configuration" class="anchor" href="#configuration" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Configuration</h3>

<p>hasura/issues is a node service that is deployed per project. All configuration is only via env variables.
Here's a list of env vars, what they mean and how to configure them</p>

<ul>
<li>
<code>GITLAB</code>: <code>XXXX_YOUR_GITLAB_API_TOKENXXXX</code>
</li>
<li>
<code>GITHUB</code>: <code>XXXX_YOUR_GITHUB_API_TOKENXXXX</code>
</li>
<li>
<code>DEADLINES</code>: <code>{"milestone_x": {"start": "YYYY-MM-DD", "end": "YYYY-MM-DD"}, "milestone_y"...}</code>
</li>
<li>
<code>PROJECTS</code>:</li>
</ul>

<pre><code>{
  "gitlab": ["group/repo", "group2/repo2"],
  "github": [
    {"name":"user/repo", "milestones":{"milestone_x": 1, "milestone_y": 2}},
    {"name": "user2/repo2", "milestones":{"milestone_x": 7, "milestone_y": 9}}
]}
</code></pre>

<ul>
<li>
<code>USERS</code>: <code>{"github_username": "normalized_username", "ramu99": "ramu"}</code>
</li>
<li>
<code>PROJECTNAME</code>: <code>My Project</code>
</li>
<li>
<code>FROM_NAME</code>: <code>Ramu</code> (used for signing off on automated email report)</li>
<li>
<code>FROM_EMAIL</code>: <code>ramu@ramu.com</code> (used as the reply-to on automated emails)</li>
<li>
<code>TO_EMAILS</code>: <code>["stakeholder1@gmail.com", "dev1@gmail.com", "manager@foo.com", "ramu@ramu.com"]</code> (JSON array of recipients of automated emails)</li>
<li>
<code>EMAIL_CRON</code>: <code>0 0 8 * * *</code> (cron schedule, GMT, to send out emails. This is 8AM daily)</li>
<li>
<code>EXTERNAL_ENDPOINT</code>: <code>http://issues.mysite.com</code> or <code>https://app.projectX.hasura-app.io</code> (URI where this tracker is publicly accessible, required for screenshot images sent via email)</li>
<li>
<code>INTERNAL_ENDPOINT</code>: <code>http://localhost:8080</code> or <code>http://app.projectX</code> (URI where this tracker is accessible for services on the same server)</li>
<li>
<code>ACTIVE_MILESTONE</code>: <code>milestone_x</code> (if this env var is present, a progress chart will be sent as an email, if this env var is absent, a simple project update with issues closed today &amp; time spent on them will be sent out)</li>
<li>
<code>SPARKPOST_KEY</code>: <code>XXXX_YOUR_SPARKPOST_KEY</code>
</li>
</ul>

<p>The container listens on the environment variable: <code>8080</code></p>

<hr>

<h3>
<a id="endpoints" class="anchor" href="#endpoints" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Endpoints</h3>

<ol>
<li><code>/milestone/:milestone</code></li>
<li>
<code>/email/maintenance</code> Will send out issue report email (in case no <code>ACTIVE_MILESTONE</code>)</li>
<li>
<code>/email-screenshot/:milestone</code> Will send out milestone progress email</li>
</ol>

<h3>
<a id="support-or-contact" class="anchor" href="#support-or-contact" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Support or Contact</h3>

<p>Please use the (ohmygod) <a href="https://github.com/hasura/issues/issues">issue tracker</a> to file issues and raise any support requests!</p>

<h3>
<a id="to-run" class="anchor" href="#to-run" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>To run</h3>

<pre><code>docker run [-e all the env vars] hasura/issues:&lt;tag&gt;
</code></pre>

<p>Images from <a href="https://hub.docker.com/r/hasura/issues/tags/">docker hub</a></p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/hasura/issues">hasura/issues</a> is maintained by <a href="https://github.com/hasura">hasura</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
